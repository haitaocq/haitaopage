<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta http-equiv="content-type" content="text/html;charset=utf-8">
    <title>face</title>
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
</head>

<body>
<div>
   <video id ="video" autoplay="" style ="width:302px; height:480px;border: 1px solid;"></video> 
   <button id ="paizhao">拍照</button>  
   <canvas id ="canvas" width="302" height="480"> </canvas> 
</div>
    <script>
	var getUserMedia = (navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia);  
	var video = document.getElementById("video");
	var canvas = document.getElementById("canvas");
	var context = canvas.getContext("2d");
	getUserMedia.call(navigator, {  
		video: true,  
		audio: true  
	}, function(localMediaStream) {
		alert("11");
		video.src = window.URL.createObjectURL(localMediaStream);  
		video.onloadedmetadata = function(e) {  
			console.log("Label: " + localMediaStream.label);  
			console.log("AudioTracks" , localMediaStream.getAudioTracks());  
			console.log("VideoTracks" , localMediaStream.getVideoTracks());  
		};  
	}, function(e) {
		alert(e.name);
		console.log('Reeeejected!', e);  
	}); 
		document.getElementById("paizhao").addEventListener("click", function() {
		// 画到画布上
			context.drawImage(video, 0, 0, 302, 480);
		});
    </script>
</body>

</html>
